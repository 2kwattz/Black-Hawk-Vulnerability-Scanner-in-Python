import pyfiglet
import subprocess
import requests
from termcolor import colored
import time
import os
from bs4 import BeautifulSoup

def ping_host(host):
    command = ['ping', '-c', '1', '-W', '1', host]

    try:
        subprocess.run(command, check=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
        print("\nHost is responding to ping\n")
        return True
    except subprocess.CalledProcessError:
        print("\nHost did not respond to ping\n")
        return False  # Host did not respond to ping



def information_gathering(url):
    available_options = ['Ping TEST Connection', 'Nmap Connection Check', 'Traceroute Connection', 'Port Scanner']
    message = colored(f" [*] 1. Ping TEST Connection \n [*] 2. Nmap Connection Check \n [*] 3. Traceroute Connection \n [*] 4. Port Scanner \n", color="yellow")
    print(message)

    try:
        option = int(input("Enter number to the corrosponding option"))
    except ValueError:
        print(colored(f"\nPlease enter a valid number \n" ,color="red"))
    except EOFError:
        print(colored(f"\nInput operation cancelled by the user.",color="red"))
    except KeyboardInterrupt:
        print(colored(f"\nProgram interrupted by the user.",color="red"))
    except Exception as e:
        print(colored(f"\nError {e}",color="red"))
    
    if option == 1:
        ping_host(url)

  

banner = pyfiglet.figlet_format("BLACK HAWK")
colored_banner = colored(banner, color="green")
print(colored_banner)
print("Vul Scanner & Information Gatherer | By : Roshan Bhatia | IG/@2kwattz")
time.sleep(1)

url = input("Enter the URL/IP you want to scan\n")
os.system('cls' if os.name == 'nt' else 'clear')

if '@' in url:
    print(colored(f"You have to enter a valid IP/Web Address. Not Email Address, My Dear Sir" ,color="red"))    
elif url == '':
    print(colored(f"Scanning Target cannot be blank" ,color="red"))

elif '.' not in url:
    print(colored(f"Invalid Scanning Target. Please enter a valid IP/Web Address" ,color="red")) 
else:
    colored_ip = colored(url, color="green") 
    print(colored(f"Target Selected : {url}\n" ,color="green"))
    information_gathering(url)
